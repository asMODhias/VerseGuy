{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useAuth}from'../hooks/useAuth';import MemberList from'../components/MemberList';import RankManagement from'../components/RankManagement';import OrganizationList from'../components/OrganizationList';import LicenseGuard from'../components/LicenseGuard';import{listOrgs}from'../api/organizations';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function OrganizationTab(){const{license}=useAuth();const[orgs,setOrgs]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState();const reload=async()=>{setError(undefined);try{setLoading(true);const results=await listOrgs();setOrgs(results);}catch(e){setError(e.message||String(e));}finally{setLoading(false);}};useEffect(()=>{reload();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"tab-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-6\",children:\"Organization\"}),/*#__PURE__*/_jsxs(\"section\",{\"aria-label\":\"organizations-section\",children:[/*#__PURE__*/_jsx(OrganizationList,{orgs:orgs,onCreated:()=>reload()}),loading?/*#__PURE__*/_jsx(\"p\",{style:{color:'var(--muted)'},children:\"Loading organizations\\u2026\"}):null,error?/*#__PURE__*/_jsx(\"p\",{style:{color:'var(--danger)'},children:error}):null]}),/*#__PURE__*/_jsx(\"section\",{\"aria-label\":\"members-section\",style:{marginTop:24},children:/*#__PURE__*/_jsx(MemberList,{members:[]})}),/*#__PURE__*/_jsx(\"section\",{\"aria-label\":\"ranks-section\",style:{marginTop:24},children:/*#__PURE__*/_jsx(RankManagement,{ranks:[]})}),/*#__PURE__*/_jsx(\"section\",{style:{marginTop:24},children:/*#__PURE__*/_jsxs(LicenseGuard,{required:\"Pro\",renderUpgrade:()=>/*#__PURE__*/_jsx(UpgradeSection,{features:[\"Recruitment System\",\"Organization Analytics\"],requiredLicense:\"Pro\"}),children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Recruitment\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Recruitment workflow (Pro)\"})]})}),/*#__PURE__*/_jsx(\"section\",{style:{marginTop:12},children:/*#__PURE__*/_jsxs(LicenseGuard,{required:\"Pro\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Analytics\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Organization analytics (Pro)\"})]})}),license==='Enterprise'?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"section\",{style:{marginTop:24},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Access Control\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Enterprise RBAC\"})]})}):null]});}function UpgradeSection(_ref){let{features,requiredLicense}=_ref;return/*#__PURE__*/_jsx(\"div\",{className:\"upgrade-prompt\",style:{marginTop:16,padding:12,border:'1px solid rgba(0,217,255,0.15)',borderRadius:8},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{color:'var(--muted)',marginBottom:8},children:\"Unlock more features:\"}),/*#__PURE__*/_jsx(\"ul\",{style:{color:'var(--muted)',margin:0},children:features.map(f=>/*#__PURE__*/_jsxs(\"li\",{children:[\"\\u2022 \",f]},f))})]}),/*#__PURE__*/_jsxs(\"button\",{style:{background:'var(--accent)',color:'#00121a',border:'none',padding:'8px 12px',borderRadius:6},children:[\"Upgrade to \",requiredLicense]})]})});}","map":{"version":3,"names":["React","useEffect","useState","useAuth","MemberList","RankManagement","OrganizationList","LicenseGuard","listOrgs","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","OrganizationTab","license","orgs","setOrgs","loading","setLoading","error","setError","reload","undefined","results","e","message","String","className","children","onCreated","style","color","marginTop","members","ranks","required","renderUpgrade","UpgradeSection","features","requiredLicense","_ref","padding","border","borderRadius","display","justifyContent","alignItems","marginBottom","margin","map","f","background"],"sources":["D:/Data/Star Citizen/Tools/VerseGuy/ui/web/src/tabs/OrganizationTab.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useAuth } from '../hooks/useAuth'\r\nimport MemberList from '../components/MemberList'\r\nimport RankManagement from '../components/RankManagement'\r\nimport OrganizationList from '../components/OrganizationList'\r\nimport LicenseGuard from '../components/LicenseGuard'\r\nimport { listOrgs } from '../api/organizations'\r\n\r\nexport default function OrganizationTab() {\r\n  const { license } = useAuth()\r\n  const [orgs, setOrgs] = useState<any[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState<string | undefined>()\r\n\r\n  const reload = async () => {\r\n    setError(undefined)\r\n    try {\r\n      setLoading(true)\r\n      const results = await listOrgs()\r\n      setOrgs(results)\r\n    } catch (e: any) {\r\n      setError(e.message || String(e))\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    reload()\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"tab-container\">\r\n      <h1 className=\"text-3xl font-bold mb-6\">Organization</h1>\r\n\r\n      <section aria-label=\"organizations-section\">\r\n        <OrganizationList orgs={orgs} onCreated={() => reload()} />\r\n        {loading ? <p style={{ color: 'var(--muted)' }}>Loading organizations…</p> : null}\r\n        {error ? <p style={{ color: 'var(--danger)' }}>{error}</p> : null}\r\n      </section>\r\n\r\n      <section aria-label=\"members-section\" style={{ marginTop: 24 }}>\r\n        <MemberList members={[]} />\r\n      </section>\r\n\r\n      <section aria-label=\"ranks-section\" style={{ marginTop: 24 }}>\r\n        <RankManagement ranks={[]} />\r\n      </section>\r\n\r\n      {/* Pro features guarded by LicenseGuard */}\r\n      <section style={{ marginTop: 24 }}>\r\n        <LicenseGuard required=\"Pro\" renderUpgrade={() => <UpgradeSection features={[\"Recruitment System\", \"Organization Analytics\"]} requiredLicense=\"Pro\" />}>\r\n          <h2>Recruitment</h2>\r\n          <p>Recruitment workflow (Pro)</p>\r\n        </LicenseGuard>\r\n      </section>\r\n\r\n      <section style={{ marginTop: 12 }}>\r\n        <LicenseGuard required=\"Pro\">\r\n          <h2>Analytics</h2>\r\n          <p>Organization analytics (Pro)</p>\r\n        </LicenseGuard>\r\n      </section>\r\n\r\n      {license === 'Enterprise' ? (\r\n        <>\r\n          <section style={{ marginTop: 24 }}>\r\n            <h2>Access Control</h2>\r\n            <p>Enterprise RBAC</p>\r\n          </section>\r\n        </>\r\n      ) : null}\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction UpgradeSection({ features, requiredLicense }: { features: string[]; requiredLicense: string }) {\r\n  return (\r\n    <div className=\"upgrade-prompt\" style={{ marginTop: 16, padding: 12, border: '1px solid rgba(0,217,255,0.15)', borderRadius: 8 }}>\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n        <div>\r\n          <p style={{ color: 'var(--muted)', marginBottom: 8 }}>Unlock more features:</p>\r\n          <ul style={{ color: 'var(--muted)', margin: 0 }}>\r\n            {features.map(f => (\r\n              <li key={f}>• {f}</li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n        <button style={{ background: 'var(--accent)', color: '#00121a', border: 'none', padding: '8px 12px', borderRadius: 6 }}>Upgrade to {requiredLicense}</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,OAAO,KAAQ,kBAAkB,CAC1C,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,MAAO,CAAAC,cAAc,KAAM,8BAA8B,CACzD,MAAO,CAAAC,gBAAgB,KAAM,gCAAgC,CAC7D,MAAO,CAAAC,YAAY,KAAM,4BAA4B,CACrD,OAASC,QAAQ,KAAQ,sBAAsB,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE/C,cAAe,SAAS,CAAAC,eAAeA,CAAA,CAAG,CACxC,KAAM,CAAEC,OAAQ,CAAC,CAAGb,OAAO,CAAC,CAAC,CAC7B,KAAM,CAACc,IAAI,CAAEC,OAAO,CAAC,CAAGhB,QAAQ,CAAQ,EAAE,CAAC,CAC3C,KAAM,CAACiB,OAAO,CAAEC,UAAU,CAAC,CAAGlB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACmB,KAAK,CAAEC,QAAQ,CAAC,CAAGpB,QAAQ,CAAqB,CAAC,CAExD,KAAM,CAAAqB,MAAM,CAAG,KAAAA,CAAA,GAAY,CACzBD,QAAQ,CAACE,SAAS,CAAC,CACnB,GAAI,CACFJ,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAK,OAAO,CAAG,KAAM,CAAAjB,QAAQ,CAAC,CAAC,CAChCU,OAAO,CAACO,OAAO,CAAC,CAClB,CAAE,MAAOC,CAAM,CAAE,CACfJ,QAAQ,CAACI,CAAC,CAACC,OAAO,EAAIC,MAAM,CAACF,CAAC,CAAC,CAAC,CAClC,CAAC,OAAS,CACRN,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDnB,SAAS,CAAC,IAAM,CACdsB,MAAM,CAAC,CAAC,CACV,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEX,KAAA,QAAKiB,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BpB,IAAA,OAAImB,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAC,cAAY,CAAI,CAAC,cAEzDlB,KAAA,YAAS,aAAW,uBAAuB,CAAAkB,QAAA,eACzCpB,IAAA,CAACJ,gBAAgB,EAACW,IAAI,CAAEA,IAAK,CAACc,SAAS,CAAEA,CAAA,GAAMR,MAAM,CAAC,CAAE,CAAE,CAAC,CAC1DJ,OAAO,cAAGT,IAAA,MAAGsB,KAAK,CAAE,CAAEC,KAAK,CAAE,cAAe,CAAE,CAAAH,QAAA,CAAC,6BAAsB,CAAG,CAAC,CAAG,IAAI,CAChFT,KAAK,cAAGX,IAAA,MAAGsB,KAAK,CAAE,CAAEC,KAAK,CAAE,eAAgB,CAAE,CAAAH,QAAA,CAAET,KAAK,CAAI,CAAC,CAAG,IAAI,EAC1D,CAAC,cAEVX,IAAA,YAAS,aAAW,iBAAiB,CAACsB,KAAK,CAAE,CAAEE,SAAS,CAAE,EAAG,CAAE,CAAAJ,QAAA,cAC7DpB,IAAA,CAACN,UAAU,EAAC+B,OAAO,CAAE,EAAG,CAAE,CAAC,CACpB,CAAC,cAEVzB,IAAA,YAAS,aAAW,eAAe,CAACsB,KAAK,CAAE,CAAEE,SAAS,CAAE,EAAG,CAAE,CAAAJ,QAAA,cAC3DpB,IAAA,CAACL,cAAc,EAAC+B,KAAK,CAAE,EAAG,CAAE,CAAC,CACtB,CAAC,cAGV1B,IAAA,YAASsB,KAAK,CAAE,CAAEE,SAAS,CAAE,EAAG,CAAE,CAAAJ,QAAA,cAChClB,KAAA,CAACL,YAAY,EAAC8B,QAAQ,CAAC,KAAK,CAACC,aAAa,CAAEA,CAAA,gBAAM5B,IAAA,CAAC6B,cAAc,EAACC,QAAQ,CAAE,CAAC,oBAAoB,CAAE,wBAAwB,CAAE,CAACC,eAAe,CAAC,KAAK,CAAE,CAAE,CAAAX,QAAA,eACrJpB,IAAA,OAAAoB,QAAA,CAAI,aAAW,CAAI,CAAC,cACpBpB,IAAA,MAAAoB,QAAA,CAAG,4BAA0B,CAAG,CAAC,EACrB,CAAC,CACR,CAAC,cAEVpB,IAAA,YAASsB,KAAK,CAAE,CAAEE,SAAS,CAAE,EAAG,CAAE,CAAAJ,QAAA,cAChClB,KAAA,CAACL,YAAY,EAAC8B,QAAQ,CAAC,KAAK,CAAAP,QAAA,eAC1BpB,IAAA,OAAAoB,QAAA,CAAI,WAAS,CAAI,CAAC,cAClBpB,IAAA,MAAAoB,QAAA,CAAG,8BAA4B,CAAG,CAAC,EACvB,CAAC,CACR,CAAC,CAETd,OAAO,GAAK,YAAY,cACvBN,IAAA,CAAAI,SAAA,EAAAgB,QAAA,cACElB,KAAA,YAASoB,KAAK,CAAE,CAAEE,SAAS,CAAE,EAAG,CAAE,CAAAJ,QAAA,eAChCpB,IAAA,OAAAoB,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvBpB,IAAA,MAAAoB,QAAA,CAAG,iBAAe,CAAG,CAAC,EACf,CAAC,CACV,CAAC,CACD,IAAI,EACL,CAAC,CAEV,CAEA,QAAS,CAAAS,cAAcA,CAAAG,IAAA,CAAiF,IAAhF,CAAEF,QAAQ,CAAEC,eAAiE,CAAC,CAAAC,IAAA,CACpG,mBACEhC,IAAA,QAAKmB,SAAS,CAAC,gBAAgB,CAACG,KAAK,CAAE,CAAEE,SAAS,CAAE,EAAE,CAAES,OAAO,CAAE,EAAE,CAAEC,MAAM,CAAE,gCAAgC,CAAEC,YAAY,CAAE,CAAE,CAAE,CAAAf,QAAA,cAC/HlB,KAAA,QAAKoB,KAAK,CAAE,CAAEc,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,eAAe,CAAEC,UAAU,CAAE,QAAS,CAAE,CAAAlB,QAAA,eACrFlB,KAAA,QAAAkB,QAAA,eACEpB,IAAA,MAAGsB,KAAK,CAAE,CAAEC,KAAK,CAAE,cAAc,CAAEgB,YAAY,CAAE,CAAE,CAAE,CAAAnB,QAAA,CAAC,uBAAqB,CAAG,CAAC,cAC/EpB,IAAA,OAAIsB,KAAK,CAAE,CAAEC,KAAK,CAAE,cAAc,CAAEiB,MAAM,CAAE,CAAE,CAAE,CAAApB,QAAA,CAC7CU,QAAQ,CAACW,GAAG,CAACC,CAAC,eACbxC,KAAA,OAAAkB,QAAA,EAAY,SAAE,CAACsB,CAAC,GAAPA,CAAY,CACtB,CAAC,CACA,CAAC,EACF,CAAC,cACNxC,KAAA,WAAQoB,KAAK,CAAE,CAAEqB,UAAU,CAAE,eAAe,CAAEpB,KAAK,CAAE,SAAS,CAAEW,MAAM,CAAE,MAAM,CAAED,OAAO,CAAE,UAAU,CAAEE,YAAY,CAAE,CAAE,CAAE,CAAAf,QAAA,EAAC,aAAW,CAACW,eAAe,EAAS,CAAC,EAC1J,CAAC,CACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}