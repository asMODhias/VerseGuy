name: Compliance Check

# Manual compliance check workflow skeleton.
# Use this for legal/compliance checks (DPA present, country clauses in place, GDPR flags, license checks).

on:
  workflow_dispatch: {}

jobs:
  compliance-check:
    name: Run compliance checks (manual)
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Docs lint
        run: |
          npm install -g markdownlint-cli markdown-link-check || true
          markdownlint "docs/**/*.md" || true

      - name: Link check
        run: |
          for f in $(find docs -type f -name "*.md"); do
            echo "Checking $f";
            markdown-link-check -q "$f" || true;
          done

      - name: "Compliance: verify legal placeholders"
        run: |
          echo "Checking legal placeholder status file..."
          if [ -f docs/legal/PLACEHOLDER_STATUS.md ]; then
            echo "PLACEHOLDER_STATUS found"
          else
            echo "No PLACEHOLDER_STATUS found; please add docs/legal/PLACEHOLDER_STATUS.md"
            exit 1
          fi

      - name: Summary
        run: |
          echo "Compliance checks finished (manual). Update step commands with organization-specific checks as needed."